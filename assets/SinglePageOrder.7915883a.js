import{c as w,r as y,w as te,m as we,h as k,I as st,i as ut,k as be,a0 as Fe,o as We,p as Ke,J as Pe,C as ct,a1 as dt,g as Ue,a2 as ft,Q as vt,P as mt,a3 as gt,W as ht,_ as bt,a4 as yt,t as B,a5 as V,f as s,x as v,A as N,F as oe,a6 as se,a7 as Le,v as J,z as _t,a8 as z,y as H,a9 as wt,aa as St}from"./index.847c9bb9.js";import{e as Ct,R as kt,a as fe,Q as $}from"./QBtn.d6aa4958.js";import{c as Se,h as He,d as Tt}from"./render.6364fbb8.js";import{Q as It}from"./QBadge.769f2158.js";import{Q as qt}from"./QToolbar.6941b456.js";import{u as xt,g as Qe,c as Ae,d as ue,a as De,b as Me,Q as ce,e as ee}from"./firebaseConfig.4f4498d5.js";import{Q as Bt}from"./QResizeObserver.55b68e59.js";import{u as ye,r as Ot,Q as je}from"./QDialog.6f613d3d.js";import{b as Ve,f as E,Q as _e}from"./use-timeout.602f94f8.js";import{a as de,Q as Ne}from"./QList.57ede4a3.js";import{Q as pe}from"./QCardActions.8db9fe51.js";import{C as Rt}from"./ClosePopup.48f5ee19.js";import{O as ze}from"./interfaces.86b2316d.js";import{S as Z}from"./sweetalert2.all.9f9dcfd4.js";const Pt={ratio:[String,Number]};function Lt(e,o){return w(()=>{const d=Number(e.ratio||(o!==void 0?o.value:void 0));return isNaN(d)!==!0&&d>0?{paddingBottom:`${100/d}%`}:null})}const Qt=16/9;var Ee=Se({name:"QImg",props:{...Pt,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:Qt},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:o,emit:d}){const a=y(e.initialRatio),l=Lt(e,a);let h=null,r=!1;const _=[y(null),y(j())],T=y(0),P=y(!1),O=y(!1),K=w(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),M=w(()=>({width:e.width,height:e.height})),I=w(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition`),L=w(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));te(()=>Q(),A);function Q(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function j(){return e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null}function A(i){h!==null&&(clearTimeout(h),h=null),O.value=!1,i===null?(P.value=!1,_[T.value^1].value=j()):P.value=!0,_[T.value].value=i}function U({target:i}){r!==!0&&(h!==null&&(clearTimeout(h),h=null),a.value=i.naturalHeight===0?.5:i.naturalWidth/i.naturalHeight,u(i,1))}function u(i,D){r===!0||D===1e3||(i.complete===!0?q(i):h=setTimeout(()=>{h=null,u(i,D+1)},50))}function q(i){r!==!0&&(T.value=T.value^1,_[T.value].value=null,P.value=!1,O.value=!1,d("load",i.currentSrc||i.src))}function m(i){h!==null&&(clearTimeout(h),h=null),P.value=!1,O.value=!0,_[T.value].value=null,_[T.value^1].value=j(),d("error",i)}function b(i){const D=_[i].value,G={key:"img_"+i,class:I.value,style:L.value,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...D};return T.value===i?(G.class+=" q-img__image--waiting",Object.assign(G,{onLoad:U,onError:m})):G.class+=" q-img__image--loaded",k("div",{class:"q-img__container absolute-full",key:"img"+i},k("img",G))}function x(){return P.value!==!0?k("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},He(o[O.value===!0?"error":"default"])):k("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},o.loading!==void 0?o.loading():e.noSpinner===!0?void 0:[k(Ct,{color:e.spinnerColor,size:e.spinnerSize})])}return A(Q()),we(()=>{r=!0,h!==null&&(clearTimeout(h),h=null)}),()=>{const i=[];return l.value!==null&&i.push(k("div",{key:"filler",style:l.value})),O.value!==!0&&(_[0].value!==null&&i.push(b(0)),_[1].value!==null&&i.push(b(1))),i.push(k(st,{name:"q-transition--fade"},x)),k("div",{class:K.value,style:M.value,role:"img","aria-label":e.alt},i)}}});let At=0;const Dt=["click","keydown"],Mt={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${At++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function jt(e,o,d,a){const l=ut(Fe,be);if(l===be)return console.error("QTab/QRouteTab component needs to be child of QTabs"),be;const{proxy:h}=Ue(),r=y(null),_=y(null),T=y(null),P=w(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),O=w(()=>l.currentModel.value===e.name),K=w(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(O.value===!0?" q-tab--active"+(l.tabProps.value.activeClass?" "+l.tabProps.value.activeClass:"")+(l.tabProps.value.activeColor?` text-${l.tabProps.value.activeColor}`:"")+(l.tabProps.value.activeBgColor?` bg-${l.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&l.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||l.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(a!==void 0?a.linkClass.value:"")),M=w(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(l.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),I=w(()=>e.disable===!0||l.hasFocus.value===!0||O.value===!1&&l.hasActiveTab.value===!0?-1:e.tabindex||0);function L(u,q){if(q!==!0&&r.value!==null&&r.value.focus(),e.disable===!0){a!==void 0&&a.hasRouterLink.value===!0&&Pe(u);return}if(a===void 0){l.updateModel({name:e.name}),d("click",u);return}if(a.hasRouterLink.value===!0){const m=(b={})=>{let x;const i=b.to===void 0||ft(b.to,e.to)===!0?l.avoidRouteWatcher=xt():null;return a.navigateToRouterLink(u,{...b,returnRouterError:!0}).catch(D=>{x=D}).then(D=>{if(i===l.avoidRouteWatcher&&(l.avoidRouteWatcher=!1,x===void 0&&(D===void 0||D.message.startsWith("Avoided redundant navigation")===!0)&&l.updateModel({name:e.name})),b.returnRouterError===!0)return x!==void 0?Promise.reject(x):D})};d("click",u,m),u.defaultPrevented!==!0&&m();return}d("click",u)}function Q(u){ct(u,[13,32])?L(u,!0):dt(u)!==!0&&u.keyCode>=35&&u.keyCode<=40&&u.altKey!==!0&&u.metaKey!==!0&&l.onKbdNavigate(u.keyCode,h.$el)===!0&&Pe(u),d("keydown",u)}function j(){const u=l.tabProps.value.narrowIndicator,q=[],m=k("div",{ref:T,class:["q-tab__indicator",l.tabProps.value.indicatorClass]});e.icon!==void 0&&q.push(k(fe,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&q.push(k("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&q.push(e.alertIcon!==void 0?k(fe,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):k("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),u===!0&&q.push(m);const b=[k("div",{class:"q-focus-helper",tabindex:-1,ref:r}),k("div",{class:M.value},Tt(o.default,q))];return u===!1&&b.push(m),b}const A={name:w(()=>e.name),rootRef:_,tabIndicatorRef:T,routeData:a};we(()=>{l.unregisterTab(A)}),We(()=>{l.registerTab(A)});function U(u,q){const m={ref:_,class:K.value,tabindex:I.value,role:"tab","aria-selected":O.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:L,onKeydown:Q,...q};return Ke(k(u,m,j()),[[kt,P.value]])}return{renderTab:U,$tabs:l}}var Vt=Se({name:"QTab",props:Mt,emits:Dt,setup(e,{slots:o,emit:d}){const{renderTab:a}=jt(e,o,d);return()=>a("div")}});function Nt(e,o,d){const a=d===!0?["left","right"]:["top","bottom"];return`absolute-${o===!0?a[0]:a[1]}${e?` text-${e}`:""}`}const pt=["left","center","right","justify"];var zt=Se({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>pt.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:o,emit:d}){const{proxy:a}=Ue(),{$q:l}=a,{registerTick:h}=ye(),{registerTick:r}=ye(),{registerTick:_}=ye(),{registerTimeout:T,removeTimeout:P}=Ve(),{registerTimeout:O,removeTimeout:K}=Ve(),M=y(null),I=y(null),L=y(e.modelValue),Q=y(!1),j=y(!0),A=y(!1),U=y(!1),u=[],q=y(0),m=y(!1);let b=null,x=null,i;const D=w(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:Nt(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),G=w(()=>{const t=q.value,n=L.value;for(let c=0;c<t;c++)if(u[c].name.value===n)return!0;return!1}),$e=w(()=>`q-tabs__content--align-${Q.value===!0?"left":U.value===!0?"justify":e.align}`),Ge=w(()=>`q-tabs row no-wrap items-center q-tabs--${Q.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),Xe=w(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+$e.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),ne=w(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),le=w(()=>e.vertical!==!0&&l.lang.rtl===!0),ve=w(()=>Ot===!1&&le.value===!0);te(le,Y),te(()=>e.modelValue,t=>{me({name:t,setCurrent:!0,skipEmit:!0})}),te(()=>e.outsideArrows,re);function me({name:t,setCurrent:n,skipEmit:c}){L.value!==t&&(c!==!0&&e["onUpdate:modelValue"]!==void 0&&d("update:modelValue",t),(n===!0||e["onUpdate:modelValue"]===void 0)&&(Ye(L.value,t),L.value=t))}function re(){h(()=>{Ce({width:M.value.offsetWidth,height:M.value.offsetHeight})})}function Ce(t){if(ne.value===void 0||I.value===null)return;const n=t[ne.value.container],c=Math.min(I.value[ne.value.scroll],Array.prototype.reduce.call(I.value.children,(C,g)=>C+(g[ne.value.content]||0),0)),S=n>0&&c>n;Q.value=S,S===!0&&r(Y),U.value=n<parseInt(e.breakpoint,10)}function Ye(t,n){const c=t!=null&&t!==""?u.find(C=>C.name.value===t):null,S=n!=null&&n!==""?u.find(C=>C.name.value===n):null;if(c&&S){const C=c.tabIndicatorRef.value,g=S.tabIndicatorRef.value;b!==null&&(clearTimeout(b),b=null),C.style.transition="none",C.style.transform="none",g.style.transition="none",g.style.transform="none";const f=C.getBoundingClientRect(),R=g.getBoundingClientRect();g.style.transform=e.vertical===!0?`translate3d(0,${f.top-R.top}px,0) scale3d(1,${R.height?f.height/R.height:1},1)`:`translate3d(${f.left-R.left}px,0,0) scale3d(${R.width?f.width/R.width:1},1,1)`,_(()=>{b=setTimeout(()=>{b=null,g.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",g.style.transform="none"},70)})}S&&Q.value===!0&&X(S.rootRef.value)}function X(t){const{left:n,width:c,top:S,height:C}=I.value.getBoundingClientRect(),g=t.getBoundingClientRect();let f=e.vertical===!0?g.top-S:g.left-n;if(f<0){I.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(f),Y();return}f+=e.vertical===!0?g.height-C:g.width-c,f>0&&(I.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(f),Y())}function Y(){const t=I.value;if(t===null)return;const n=t.getBoundingClientRect(),c=e.vertical===!0?t.scrollTop:Math.abs(t.scrollLeft);le.value===!0?(j.value=Math.ceil(c+n.width)<t.scrollWidth-1,A.value=c>0):(j.value=c>0,A.value=e.vertical===!0?Math.ceil(c+n.height)<t.scrollHeight:Math.ceil(c+n.width)<t.scrollWidth)}function ke(t){x!==null&&clearInterval(x),x=setInterval(()=>{et(t)===!0&&F()},5)}function Te(){ke(ve.value===!0?Number.MAX_SAFE_INTEGER:0)}function Ie(){ke(ve.value===!0?0:Number.MAX_SAFE_INTEGER)}function F(){x!==null&&(clearInterval(x),x=null)}function Je(t,n){const c=Array.prototype.filter.call(I.value.children,R=>R===n||R.matches&&R.matches(".q-tab.q-focusable")===!0),S=c.length;if(S===0)return;if(t===36)return X(c[0]),c[0].focus(),!0;if(t===35)return X(c[S-1]),c[S-1].focus(),!0;const C=t===(e.vertical===!0?38:37),g=t===(e.vertical===!0?40:39),f=C===!0?-1:g===!0?1:void 0;if(f!==void 0){const R=le.value===!0?-1:1,p=c.indexOf(n)+f*R;return p>=0&&p<S&&(X(c[p]),c[p].focus({preventScroll:!0})),!0}}const Ze=w(()=>ve.value===!0?{get:t=>Math.abs(t.scrollLeft),set:(t,n)=>{t.scrollLeft=-n}}:e.vertical===!0?{get:t=>t.scrollTop,set:(t,n)=>{t.scrollTop=n}}:{get:t=>t.scrollLeft,set:(t,n)=>{t.scrollLeft=n}});function et(t){const n=I.value,{get:c,set:S}=Ze.value;let C=!1,g=c(n);const f=t<g?-1:1;return g+=f*5,g<0?(C=!0,g=0):(f===-1&&g<=t||f===1&&g>=t)&&(C=!0,g=t),S(n,g),Y(),C}function qe(t,n){for(const c in t)if(t[c]!==n[c])return!1;return!0}function tt(){let t=null,n={matchedLen:0,queryDiff:9999,hrefLen:0};const c=u.filter(f=>f.routeData!==void 0&&f.routeData.hasRouterLink.value===!0),{hash:S,query:C}=a.$route,g=Object.keys(C).length;for(const f of c){const R=f.routeData.exact.value===!0;if(f.routeData[R===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:p,query:ge,matched:it,href:ot}=f.routeData.resolvedLink.value,he=Object.keys(ge).length;if(R===!0){if(p!==S||he!==g||qe(C,ge)===!1)continue;t=f.name.value;break}if(p!==""&&p!==S||he!==0&&qe(ge,C)===!1)continue;const W={matchedLen:it.length,queryDiff:g-he,hrefLen:ot.length-p.length};if(W.matchedLen>n.matchedLen){t=f.name.value,n=W;continue}else if(W.matchedLen!==n.matchedLen)continue;if(W.queryDiff<n.queryDiff)t=f.name.value,n=W;else if(W.queryDiff!==n.queryDiff)continue;W.hrefLen>n.hrefLen&&(t=f.name.value,n=W)}t===null&&u.some(f=>f.routeData===void 0&&f.name.value===L.value)===!0||me({name:t,setCurrent:!0})}function at(t){if(P(),m.value!==!0&&M.value!==null&&t.target&&typeof t.target.closest=="function"){const n=t.target.closest(".q-tab");n&&M.value.contains(n)===!0&&(m.value=!0,Q.value===!0&&X(n))}}function nt(){T(()=>{m.value=!1},30)}function ie(){Be.avoidRouteWatcher===!1?O(tt):K()}function xe(){if(i===void 0){const t=te(()=>a.$route.fullPath,ie);i=()=>{t(),i=void 0}}}function lt(t){u.push(t),q.value++,re(),t.routeData===void 0||a.$route===void 0?O(()=>{if(Q.value===!0){const n=L.value,c=n!=null&&n!==""?u.find(S=>S.name.value===n):null;c&&X(c.rootRef.value)}}):(xe(),t.routeData.hasRouterLink.value===!0&&ie())}function rt(t){u.splice(u.indexOf(t),1),q.value--,re(),i!==void 0&&t.routeData!==void 0&&(u.every(n=>n.routeData===void 0)===!0&&i(),ie())}const Be={currentModel:L,tabProps:D,hasFocus:m,hasActiveTab:G,registerTab:lt,unregisterTab:rt,verifyRouteModel:ie,updateModel:me,onKbdNavigate:Je,avoidRouteWatcher:!1};vt(Fe,Be);function Oe(){b!==null&&clearTimeout(b),F(),i!==void 0&&i()}let Re;return we(Oe),mt(()=>{Re=i!==void 0,Oe()}),gt(()=>{Re===!0&&xe(),re()}),()=>k("div",{ref:M,class:Ge.value,role:"tablist",onFocusin:at,onFocusout:nt},[k(Bt,{onResize:Ce}),k("div",{ref:I,class:Xe.value,onScroll:Y},He(o.default)),k(fe,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(j.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||l.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:Te,onTouchstartPassive:Te,onMouseupPassive:F,onMouseleavePassive:F,onTouchendPassive:F}),k(fe,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(A.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||l.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:Ie,onTouchstartPassive:Ie,onMouseupPassive:F,onMouseleavePassive:F,onTouchendPassive:F})])}});const Et=ht("clientOrderStore",{state:()=>({order:null,items:[]}),getters:{getOrder(e){return e.order},itemSummary(e){var o;return(o=e.order)==null?void 0:o.itemSummary},orderId(e){var o;return(o=e.order)==null?void 0:o.orderId},startTime(e){var o;return(o=e.order)==null?void 0:o.startTime}},actions:{async fetchItems(){const e=await Qe(Ae(ue,"items"));this.items=e.docs.map(o=>{const d=o.data();return{id:o.id,name:d.name,price:d.price,category:d.category,imageUrl:d.imageUrl}})},async closeOrder(){if(!this.order)throw new Error("Order not found");const e=De(ue,"order",this.order.orderId);await Me(e,{status:ze.CloseRequest})},async fetchOrder(e){const d=(await Qe(Ae(ue,"order"))).docs.find(a=>a.data().deviceId===e&&a.data().status!==ze.Completed);d?(this.order=d.data(),this.order.orderId=d.id):this.order=null},async addItemToOrder(e){var r,_,T;if(!this.order)throw new Error("Order not found");const o=De(ue,"order",this.order.orderId);let d=((r=this.order.itemSummary)==null?void 0:r.totalItems)||0,a=((_=this.order.itemSummary)==null?void 0:_.totalPrices)||0;e.forEach(P=>{d+=Number(P.quantity),a+=P.price});const l=((T=this.order.itemSummary)==null?void 0:T.items)||[];l.push(...e);const h={totalItems:d,totalPrices:a,items:l};await Me(o,{itemSummary:h}),this.order.itemSummary=h}}});function Ft(e){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(e)}var Wt="/assets/bg.270568ed.jpg",Kt="/assets/karaoke.1fa0da02.svg";const Ut={setup(){const e=Et(),o=y([]),d=y([]),a=y("Category 1"),l=y({}),h=y(!1),r=y(!1),_=yt(),T=y(null),P=_.params.deviceId,O=async()=>{await e.fetchOrder(P),T.value=e.getOrder};We(()=>{M(),O()});const K=w(()=>Object.values(l.value).reduce((m,b)=>m+b,0)),M=async()=>{await e.fetchItems(),o.value=e.items,d.value=[...new Set(o.value.map(m=>m.category))],a.value=d.value[0]},I=w(()=>o.value.filter(m=>m.category===a.value)),L=m=>{const b=l.value[m.id]||0;l.value[m.id]=b+1},Q=()=>{if(Object.keys(l.value).length===0){Z.fire({icon:"warning",title:"Anda Belum Pilih Barang!",text:"Silahkan Pilih Barang Dulu."});return}h.value=!0},j=()=>{r.value=!0},A=m=>o.value.find(b=>b.id===m)||{name:"",price:0};return{categories:d,selectedCategory:a,filteredItems:I,shoppingBag:l,isOrderDialogOpen:h,isInvoiceDialogOpen:r,addToOrder:L,viewOrder:Q,viewInvoice:j,getItemById:A,checkout:async()=>{if(Object.keys(l.value).length===0){Z.fire({icon:"warning",title:"No Order Found",text:"Your shopping cart is empty."});return}const m=Object.entries(l.value).map(([b,x])=>{const i=A(b);return{itemId:i.id,name:i.name,price:i.price*x,quantity:x}});await e.addItemToOrder(m),Z.fire({icon:"info",title:"Pesanan Sudah Diterima!",text:"Pesanan sudah kami terima, mohon tunggu sebentar."}),O(),l.value={},h.value=!1},callWaitress:()=>{Z.fire({icon:"info",title:"Pelayan Dipanggil",text:"Pelayan kami sudah dinotifikasi dan akan membantu anda segera."})},closeOrder:async()=>{r.value=!1,T.value&&(await Z.fire({title:"Apakah anda yakin?",text:"Apakah anda yakin untuk menyelesaikan sesi karaoke?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya, Selesaikan",cancelButtonText:"Batal"})).isConfirmed&&(await e.closeOrder(),Z.fire({icon:"success",title:"Request Diterima",text:"Kasir Sudah Menerima Notifikasi Untuk Menutup Tagihan"}))},useCurrency:Ft,totalOrderQuantity:K,order:T,bgImage:Wt}}},ae=e=>(wt("data-v-e3cc1832"),e=e(),St(),e),Ht={key:0},$t={key:1},Gt={key:0,style:{flex:"1","overflow-y":"auto",padding:"1vh"}},Xt={style:{"background-color":"white","border-radius":"10px",padding:"5px",display:"flex","justify-content":"center",width:"fit-content",margin:"0 auto"}},Yt={class:"row q-mt-md q-gutter-md justify-center",style:{height:"calc(100vh - 60vh)","overflow-y":"auto"}},Jt={class:"text-h6"},Zt={key:1,style:{display:"flex","justify-content":"center","align-items":"center",flex:"1"}},ea=ae(()=>N("div",{class:"text-h6"},"Sesi Karaoke Belum Aktif",-1)),ta=ae(()=>N("p",null,"Silahkan hubungi pelayan.",-1)),aa=ae(()=>N("div",{class:"text-h6"},"Keranjang Belanja",-1)),na=ae(()=>N("div",{class:"text-h6"},"Tagihan",-1)),la=ae(()=>N("strong",null,"Total:",-1)),ra={key:1};function ia(e,o,d,a,l,h){return B(),V("div",{style:Le({backgroundImage:`url(${a.bgImage})`,backgroundSize:"cover",minHeight:"100vh",display:"flex",flexDirection:"column"})},[s(qt,{elevated:"",style:{"flex-shrink":"0",display:"flex","justify-content":"space-between","align-items":"center"}},{default:v(()=>[s(Ee,{src:Kt,style:{height:"15vh",width:"15vh"}}),N("div",null,[a.order?(B(),V("div",Ht,[s($,{flat:"",dense:"",round:"","aria-label":"Panggil Pelayan",size:"xl",color:"white",icon:"person",onClick:a.callWaitress},null,8,["onClick"]),s($,{size:"xl",flat:"",dense:"",round:"",icon:"shopping_cart",color:"white","aria-label":"View Order",onClick:a.viewOrder},{default:v(()=>[a.totalOrderQuantity>0?(B(),J(It,{key:0,label:a.totalOrderQuantity,color:"red",floating:"",transparent:"",style:{top:"5px",right:"5px"}},null,8,["label"])):_t("",!0)]),_:1},8,["onClick"]),s($,{size:"xl",flat:"",dense:"",round:"",icon:"receipt",color:"white","aria-label":"View Invoice",onClick:a.viewInvoice},null,8,["onClick"])])):(B(),V("div",$t))])]),_:1}),a.order?(B(),V("div",Gt,[N("div",Xt,[s(zt,{modelValue:a.selectedCategory,"onUpdate:modelValue":o[0]||(o[0]=r=>a.selectedCategory=r),class:"text-center",align:"center","active-color":"white","indicator-color":"white"},{default:v(()=>[(B(!0),V(oe,null,se(a.categories,r=>(B(),J(Vt,{key:r,name:r,label:r,class:"full-width-tab",style:Le(a.selectedCategory===r?"background-color: #3A7CA5; color: white;":"")},null,8,["name","label","style"]))),128))]),_:1},8,["modelValue"])]),N("div",Yt,[(B(!0),V(oe,null,se(a.filteredItems,r=>(B(),J(ce,{key:r.id,class:"col-6 col-sm-4 col-md-3 col-lg-2",style:{display:"flex","flex-direction":"column","justify-content":"space-between",height:"90%"}},{default:v(()=>[s(Ee,{src:r.imageUrl,alt:r.name,fit:"contain",style:{height:"20vh","max-width":"150px"}},null,8,["src","alt"]),s(ee,null,{default:v(()=>[N("div",Jt,z(r.name),1),N("div",null,z(a.useCurrency(r.price)),1),s($,{class:"q-mt-md",label:"Tambah Ke Keranjang",color:"primary",onClick:_=>a.addToOrder(r)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))])])):(B(),V("div",Zt,[s(ce,{style:{"background-color":"white",padding:"20px","text-align":"center"}},{default:v(()=>[ea,ta]),_:1})])),s(je,{modelValue:a.isOrderDialogOpen,"onUpdate:modelValue":o[1]||(o[1]=r=>a.isOrderDialogOpen=r),persistent:""},{default:v(()=>[s(ce,{style:{"min-width":"50vw","max-width":"50vw"}},{default:v(()=>[s(ee,null,{default:v(()=>[aa]),_:1}),s(de),s(ee,null,{default:v(()=>[s(Ne,null,{default:v(()=>[(B(!0),V(oe,null,se(a.shoppingBag,(r,_)=>(B(),J(_e,{key:_},{default:v(()=>[s(E,null,{default:v(()=>[H(z(a.getItemById(_).name),1)]),_:2},1024),s(E,null,{default:v(()=>[H(z(r),1)]),_:2},1024),s(E,null,{default:v(()=>[H(z(a.useCurrency(a.getItemById(_).price*r)),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),s(de),s(pe,{align:"right"},{default:v(()=>[Ke(s($,{flat:"",label:"Cancel",color:"primary"},null,512),[[Rt]]),s($,{label:"Checkout",color:"primary",onClick:a.checkout},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),s(je,{modelValue:a.isInvoiceDialogOpen,"onUpdate:modelValue":o[2]||(o[2]=r=>a.isInvoiceDialogOpen=r)},{default:v(()=>[s(ce,{style:{"min-width":"50vw","max-width":"50vw"}},{default:v(()=>[s(ee,null,{default:v(()=>[na]),_:1}),s(de),s(ee,null,{default:v(()=>[a.order?(B(),J(Ne,{key:0},{default:v(()=>[(B(!0),V(oe,null,se(a.order.itemSummary.items,r=>(B(),J(_e,{key:r.itemId},{default:v(()=>[s(E,null,{default:v(()=>[H(z(r.name),1)]),_:2},1024),s(E,null,{default:v(()=>[H(z(r.quantity),1)]),_:2},1024),s(E,null,{default:v(()=>[H(z(a.useCurrency(r.price*r.quantity)),1)]),_:2},1024)]),_:2},1024))),128)),s(_e,null,{default:v(()=>[s(E,null,{default:v(()=>[la]),_:1}),s(E),s(E,null,{default:v(()=>[H(z(a.useCurrency(a.order.itemSummary.totalPrices)),1)]),_:1})]),_:1})]),_:1})):(B(),V("div",ra,"No order available. Please start an order first."))]),_:1}),s(de),s(pe,{align:"right"},{default:v(()=>[s($,{label:"Close Order",color:"red",onClick:a.closeOrder},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],4)}var Sa=bt(Ut,[["render",ia],["__scopeId","data-v-e3cc1832"]]);export{Sa as default};
